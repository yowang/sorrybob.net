(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8351:function(e,r,t){Promise.resolve().then(t.bind(t,5568))},5568:function(e,r,t){"use strict";t.d(r,{default:function(){return l}});var s=t(7437),a=t(2265);function l(){let[e,r]=(0,a.useState)(!1),[t,l]=(0,a.useState)(!1),[n,o]=(0,a.useState)(!0),[c,i]=(0,a.useState)(0),u=(0,a.useRef)(null),m=["https://www.miniplay.com/embed/sorry-bob-surgeon-simulator","https://geometry-games.io/sorry-bob","https://www.gamenora.com/game/sorry-bob-surgeon-simulator/"];(0,a.useEffect)(()=>{let e=setTimeout(()=>{n&&(l(!0),o(!1))},1e4);return()=>clearTimeout(e)},[c,n]);let d=async()=>{if(u.current)try{document.fullscreenElement?(await document.exitFullscreen(),r(!1)):(await u.current.requestFullscreen(),r(!0))}catch(e){console.error("Fullscreen error:",e)}};return(0,s.jsxs)("div",{className:"game-stage",children:[(0,s.jsxs)("div",{ref:u,className:"game-container",children:[n&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-game-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"游戏加载中..."}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Loading game..."})]})}),(0,s.jsx)("iframe",{src:m[c],title:"Sorry Bob - Surgeon Simulator",allow:"autoplay; fullscreen; gamepad",allowFullScreen:!0,className:"border-0 absolute top-0 left-0 w-full h-full",onLoad:()=>{o(!1)},onError:()=>{o(!1),l(!0)}},c),(0,s.jsx)("button",{onClick:d,className:"fullscreen-btn","aria-label":e?"Exit fullscreen":"Enter fullscreen",children:e?"⤓ Exit Fullscreen":"⤢ Fullscreen"})]}),t&&c<m.length-1&&(0,s.jsxs)("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-xl text-center",children:[(0,s.jsx)("p",{className:"text-amber-800 mb-2",children:"Game failed to load from this source"}),(0,s.jsx)("button",{onClick:()=>{c<m.length-1&&(i(c+1),l(!1),o(!0))},className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:"Try Alternative Source"})]}),t&&c===m.length-1&&(0,s.jsxs)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-xl text-center",children:[(0,s.jsx)("p",{className:"text-red-800 mb-2",children:"Unable to load game. Please try again later."}),(0,s.jsx)("a",{href:"https://kbhgames.com/game/sorry-bob",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 underline hover:text-red-800",children:"Play on KBHGames instead →"})]})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8351)}),_N_E=e.O()}]);